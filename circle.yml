dependencies:
  pre:
    - sudo add-apt-repository ppa:boost-latest/ppa -y
    - sudo add-apt-repository ppa:bitcoin/bitcoin -y
    - sudo apt-get update -qq
  override:
    - sudo apt-get install -y build-essential
    - sudo apt-get install -y libtool autotools-dev autoconf
    - sudo apt-get install -y libssl-dev
    - sudo apt-get install -y libboost1.55-all-dev
    - sudo apt-get install -y libdb4.8-dev
    - sudo apt-get install -y libdb4.8++-dev
    - sudo apt-get install -y libqt4-dev
    - sudo apt-get install -y libprotobuf-dev
    - sudo apt-get install -y protobuf-compiler
    - sudo apt-get install -y libqrencode-dev
    - sudo apt-get install -y lcov
    - ./autogen.sh
    - ./configure --enable-lcov
    - make -j 3
test:
  pre:
    - cp ./src/mastercored ./src/bitcoind
    - cp ./src/mastercore-cli ./src/bitcoin-cli
  override:
    - make cov
